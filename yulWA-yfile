#!/bin/sh
# Bash script that archives selected York University web sites using the WARC ISO format.

#cd /home/nruest/tmp/warc-testing
cd /home/nruest/tmp/warcs
mkdir YFILE_$(date +\%Y_\%m_\%d)
cd YFILE_$(date +\%Y_\%m_\%d)
wget --mirror --warc-file=YFILE_$(date +\%Y_\%m_\%d) --wait=3 http://yfile.news.yorku.ca/
cd ..
bagit.py --processes 4 --contact-name 'Nick Ruest' --external-description 'YFile daily web archive' YFILE_$(date +\%Y_\%m_\%d)
zip -r YFILE_$(date +\%Y_\%m_\%d).zip YFILE_$(date +\%Y_\%m_\%d)
rm -rf YFILE_$(date +\%Y_\%m_\%d)
echo "S'up Dawg? I archived yo yfile site: $(date)" >> /home/nruest/tmp/webarchiving.log
